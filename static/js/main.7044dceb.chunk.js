(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(e,t,a){e.exports={form:"form_form__CBSvm",label:"form_label__e_cto",input:"form_input__YX0oc",button:"form_button__3LLEV"}},34:function(e,t,a){e.exports={title:"filter_title__2n9z3",input:"filter_input__-IHMM"}},38:function(e,t,a){e.exports=a(70)},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n,c=a(0),o=a.n(c),r=a(9),i=a.n(r),s=a(8),u=a(3),l=a(1),b=a(35),m=a(10),f=a.n(m),p=a(7),O=Object(p.a)("phonebook/GET_FORM_VALUE_Fetch"),j=Object(p.a)("phonebook/GET_FORM_VALUE_Success"),E=Object(p.a)("phonebook/GET_FORM_VALUE_Error"),d=Object(p.a)("phonebook/GET_FORM_VALUE"),v=Object(p.a)("phonebook/DELETE_CONTACT"),h=Object(p.a)("phonebook/GET_FILTER_VALUE"),_=Object(p.a)("phonebook/SET_FILTERED_ARR"),g=Object(p.a)("phonebook/SET_LOCAL_DATA"),y=Object(p.a)("phonebook/SET_NOTIFY"),k=Object(p.a)("phonebook/REMOVE_FILTERED_ARR"),N=a(11),L=a.n(N),F=a(17),x=a(18),A=a.n(x),T=a(2),C=a(22),w=Object(p.b)({contacts:{items:[],filter:""},isLoading:!1},(n={},Object(u.a)(n,d,(function(e,t){var a=t.payload;return Object(l.a)(Object(l.a)({},e),{},{contacts:Object(l.a)(Object(l.a)({},e.contacts),{},{items:Object(C.a)(a)})})})),Object(u.a)(n,O,(function(e,t){t.payload;return Object(l.a)(Object(l.a)({},e),{},{isLoading:!e.isLoading})})),Object(u.a)(n,j,(function(e,t){var a=t.payload;return Object(l.a)(Object(l.a)({},e),{},{contacts:Object(l.a)(Object(l.a)({},e.contacts),{},{items:[].concat(Object(C.a)(e.contacts.items),[a])})})})),Object(u.a)(n,v,(function(e,t){var a=t.payload;return Object(l.a)(Object(l.a)({},e),{},{contacts:Object(l.a)(Object(l.a)({},e.contacts),{},{items:e.contacts.items.filter((function(e){return e.id!==a}))})})})),Object(u.a)(n,h,(function(e,t){var a=t.payload;return Object(l.a)(Object(l.a)({},e),{},{contacts:Object(l.a)(Object(l.a)({},e.contacts),{},{filter:a})})})),Object(u.a)(n,_,(function(e){return Object(l.a)(Object(l.a)({},e),{},{contacts:Object(l.a)(Object(l.a)({},e.contacts),{},{filteredItems:e.contacts.items.filter((function(t){return t.name.toLowerCase().includes(e.contacts.filter.toLowerCase())}))})})})),Object(u.a)(n,g,(function(e,t){var a=t.payload;return Object(l.a)(Object(l.a)({},e),{},{contacts:Object(l.a)(Object(l.a)({},e.contacts),{},{items:a})})})),Object(u.a)(n,y,(function(e,t){var a=t.payload;return Object(l.a)(Object(l.a)({},e),{},{contacts:Object(l.a)(Object(l.a)({},e.contacts),{},{setNotify:a})})})),Object(u.a)(n,k,(function(e){return Object(l.a)(Object(l.a)({},e),{},{contacts:Object(l.a)(Object(l.a)({},e.contacts),{},{filteredItems:null})})})),n)),D=a(33),R=[function(e){var t=e.dispatch,a=e.getState;return function(e){return function(n){return"function"===typeof n?n(t,a):e(n)}}}],I=Object(T.createStore)(w,Object(D.composeWithDevTools)(T.applyMiddleware.apply(void 0,R)));var S=function(){var e=Object(c.useState)({name:"",number:""}),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(s.c)(),i=Object(s.d)((function(e){return e.contacts.items})),m=function(e){var t=e.target,a=t.name,c=t.value;n((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(u.a)({},a,c))}))};return o.a.createElement("form",{className:f.a.form,onSubmit:function(e){e.preventDefault();var t=e.target;if(""!==a.name&&""!==a.number){var n,c=e.target.elements,o=!0;i.map((function(e){return e.name===c[0].value?o=!1:""})),r(o?(n={name:c[0].value,number:c[1].value},function(){var e=Object(F.a)(L.a.mark((function e(t,a){var c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(O()),e.prev=1,e.next=4,A.a.post("https://phonebook-c7b0b.firebaseio.com/phoneBook.json",n);case 4:c=e.sent,t(j(Object(l.a)(Object(l.a)({},n),{},{id:c.data.name}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(E(e.t0));case 11:return e.prev=11,t(O()),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t,a){return e.apply(this,arguments)}}()):y(!0)),t.reset()}}},o.a.createElement("label",{className:f.a.label},"Name:",o.a.createElement("input",{className:f.a.input,type:"text",name:"name",onChange:m})),o.a.createElement("label",{className:f.a.label},"Phone:",o.a.createElement("input",{className:f.a.input,type:"tel",name:"number",onChange:m})),o.a.createElement("button",{className:f.a.button,type:"submit"},"Add contact"))},V=(a(66),a(72)),M=a(71);var B=Object(s.b)((function(e){return{value:e.contacts.filteredItems?e.contacts.filteredItems:e.contacts.items}}),{deleteContact:v,removeFilteredArr:k,deleteContactAsync:function(e){return function(){var t=Object(F.a)(L.a.mark((function t(a,n){var c;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("param",e),t.prev=1,t.next=4,A.a.delete("https://phonebook-c7b0b.firebaseio.com/phoneBook/".concat(e,".json"));case 4:c=t.sent,console.log("dataaaaaaaaaaaaaaaaaaaaaaaaaaaaa",c),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()}})((function(e){var t=e.value,a=e.deleteContact,n=e.removeFilteredArr,c=e.deleteContactAsync;return console.log(t),o.a.createElement(V.a,{component:"ul",className:"list"},t.map((function(e){return o.a.createElement(M.a,{key:e.id,timeout:250,classNames:"adddelete",unmountOnExit:!0},o.a.createElement("li",{className:"item",key:e.id},o.a.createElement("div",{className:"wrapper"},o.a.createElement("span",null,e.name),o.a.createElement("span",null,": ",e.number)),o.a.createElement("button",{className:"button",onClick:function(){return t=e.id,c(t),a(t),void n();var t}},"Delete")))})))})),G=a(34),U=a.n(G),J=function(e){return e.contacts.filter};var P={getFilterValue:h,setFilteredArr:_,removeFilteredArr:k},Y=Object(s.b)((function(e){return{filter:J(e)}}),P)((function(e){var t=e.filter,a=e.getFilterValue,n=e.setFilteredArr,c=e.removeFilteredArr;return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{className:U.a.input,type:"text",name:"filter",value:t,onChange:function(e){var t=e.target.value;a(t),n(t),""===t&&c()}}))})),z=(a(67),function(){return o.a.createElement("div",{className:"notify"},"This contact is already in exist!")});a(68);var H={setLocalData:g,setNotify:y,getDataFromDB:function(e){return function(){var e=Object(F.a)(L.a.mark((function e(t,a){var n,c,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("https://phonebook-c7b0b.firebaseio.com/phoneBook.json");case 3:n=e.sent,c=Object.keys(n.data),o=c.reduce((function(e,t){return e.push(Object(l.a)({id:t},n.data[t])),e}),[]),t(d(o)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()}},W=Object(s.b)((function(e){return{value:e.contacts.items,filter:e.contacts.filter,notify:e.contacts.setNotify,isLoading:e.isLoading}}),H)((function(e){var t=e.value,a=(e.setLocalData,e.notify),n=e.setNotify,r=e.isLoading,i=e.getDataFromDB;return Object(c.useEffect)((function(){i()}),[i]),o.a.createElement(o.a.Fragment,null,o.a.createElement(M.a,{in:a,timeout:2e3,classNames:"notify",unmountOnExit:!0,onEntered:function(){return n(!1)}},o.a.createElement(z,null)),o.a.createElement(M.a,{in:!0,appear:!0,timeout:2e3,classNames:"op",unmountOnExit:!0},o.a.createElement("h2",{className:"title"},"Phonebook")),o.a.createElement(S,null),o.a.createElement(M.a,{in:t.length>=1,timeout:300,unmountOnExit:!0,classNames:"title-contacts"},o.a.createElement("h2",{className:"title-contacts"},"Contacts")),r&&o.a.createElement("h2",null," ..... loading"),o.a.createElement(M.a,{in:t.length>=2,timeout:300,unmountOnExit:!0,classNames:"filter"},o.a.createElement(Y,null)),o.a.createElement(B,null))}));a(69);i.a.render(o.a.createElement(s.a,{store:I},o.a.createElement(W,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.7044dceb.chunk.js.map